<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KratosMultiphysics: Kratos::DataCommunicatorFactory Namespace Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../kratos_small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">KratosMultiphysics
   </div>
   <div id="projectbrief">KRATOS Multiphysics (Kratos) is a framework for building parallel, multi-disciplinary simulation software, aiming at modularity, extensibility, and high performance. Kratos is written in C++, and counts with an extensive Python interface.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../db/d66/namespace_kratos.html">Kratos</a></li><li class="navelem"><a class="el" href="../../d1/deb/namespace_kratos_1_1_data_communicator_factory.html">DataCommunicatorFactory</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Kratos::DataCommunicatorFactory Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Common tools to define new MPI DataCommunicators.  
<a href="../../d1/deb/namespace_kratos_1_1_data_communicator_factory.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a143e0a0fe1cf6a99be43a32e171ba7e7"><td class="memItemLeft" align="right" valign="top">const DataCommunicator &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/deb/namespace_kratos_1_1_data_communicator_factory.html#a143e0a0fe1cf6a99be43a32e171ba7e7">DuplicateAndRegister</a> (const DataCommunicator &amp;rOriginalCommunicator, const std::string &amp;rNewCommunicatorName)</td></tr>
<tr class="memdesc:a143e0a0fe1cf6a99be43a32e171ba7e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new MPIDataCommunicator as a duplicate of an existing one.  <a href="../../d1/deb/namespace_kratos_1_1_data_communicator_factory.html#a143e0a0fe1cf6a99be43a32e171ba7e7">More...</a><br /></td></tr>
<tr class="separator:a143e0a0fe1cf6a99be43a32e171ba7e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a0ad7d3309c0aca854e1e348a915d81"><td class="memItemLeft" align="right" valign="top">const DataCommunicator &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/deb/namespace_kratos_1_1_data_communicator_factory.html#a9a0ad7d3309c0aca854e1e348a915d81">SplitAndRegister</a> (const DataCommunicator &amp;rOriginalCommunicator, <a class="el" href="../../db/d66/namespace_kratos.html#ac398e9982e45de7167981e05b7f5ff57">int</a> Color, <a class="el" href="../../db/d66/namespace_kratos.html#ac398e9982e45de7167981e05b7f5ff57">int</a> Key, const std::string &amp;rNewCommunicatorName)</td></tr>
<tr class="memdesc:a9a0ad7d3309c0aca854e1e348a915d81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new MPIDataCommunicator by splitting an existing one.  <a href="../../d1/deb/namespace_kratos_1_1_data_communicator_factory.html#a9a0ad7d3309c0aca854e1e348a915d81">More...</a><br /></td></tr>
<tr class="separator:a9a0ad7d3309c0aca854e1e348a915d81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb83cc66cec5af5060bb84ff9da96f76"><td class="memItemLeft" align="right" valign="top">const DataCommunicator &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/deb/namespace_kratos_1_1_data_communicator_factory.html#abb83cc66cec5af5060bb84ff9da96f76">CreateFromRanksAndRegister</a> (const DataCommunicator &amp;rOriginalCommunicator, const std::vector&lt; <a class="el" href="../../db/d66/namespace_kratos.html#ac398e9982e45de7167981e05b7f5ff57">int</a> &gt; &amp;rRanks, const std::string &amp;rNewCommunicatorName)</td></tr>
<tr class="memdesc:abb83cc66cec5af5060bb84ff9da96f76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new MPIDataCommunicator connecting the provided ranks.  <a href="../../d1/deb/namespace_kratos_1_1_data_communicator_factory.html#abb83cc66cec5af5060bb84ff9da96f76">More...</a><br /></td></tr>
<tr class="separator:abb83cc66cec5af5060bb84ff9da96f76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd9d3df59210f9ad7c95d4fe7599690d"><td class="memItemLeft" align="right" valign="top">const DataCommunicator &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/deb/namespace_kratos_1_1_data_communicator_factory.html#abd9d3df59210f9ad7c95d4fe7599690d">CreateUnionAndRegister</a> (const DataCommunicator &amp;rFirstDataCommunicator, const DataCommunicator &amp;rSecondDataCommunicator, const DataCommunicator &amp;rParentDataCommunicator, const std::string &amp;rNewCommunicatorName)</td></tr>
<tr class="memdesc:abd9d3df59210f9ad7c95d4fe7599690d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new MPIDataCommunicator as the union of the given ones.  <a href="../../d1/deb/namespace_kratos_1_1_data_communicator_factory.html#abd9d3df59210f9ad7c95d4fe7599690d">More...</a><br /></td></tr>
<tr class="separator:abd9d3df59210f9ad7c95d4fe7599690d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a305e7138a26daa2a0c754bccd4666952"><td class="memItemLeft" align="right" valign="top">const DataCommunicator &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/deb/namespace_kratos_1_1_data_communicator_factory.html#a305e7138a26daa2a0c754bccd4666952">CreateIntersectionAndRegister</a> (const DataCommunicator &amp;rFirstDataCommunicator, const DataCommunicator &amp;rSecondDataCommunicator, const DataCommunicator &amp;rParentDataCommunicator, const std::string &amp;rNewCommunicatorName)</td></tr>
<tr class="memdesc:a305e7138a26daa2a0c754bccd4666952"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new MPIDataCommunicator as the intersection of the given ones.  <a href="../../d1/deb/namespace_kratos_1_1_data_communicator_factory.html#a305e7138a26daa2a0c754bccd4666952">More...</a><br /></td></tr>
<tr class="separator:a305e7138a26daa2a0c754bccd4666952"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Common tools to define new MPI DataCommunicators. </p>
<p>Note that new DataCommunicators created by the functions in the <a class="el" href="../../d1/deb/namespace_kratos_1_1_data_communicator_factory.html" title="Common tools to define new MPI DataCommunicators.">DataCommunicatorFactory</a> namespace are automatically registered in the ParallelEnvironment, that takes care of managing their life cycle. In this way, we ensure that the underlying MPI_Comm object is always properly freed before calling MPI_Finalize.</p>
<p>Note that some of the functions can create a communicator that is undefined in some processes, because that process does not participate in the communication. In MPI terms, the returned DataCommunicator is a wrapper for MPI_COMM_NULL. Since MPI calls are undefined for MPI_COMM_NULL, communicators created using those functions should be used carefully checking DataCommunicator::IsDefinedOnThisRank or DataCommunicator::IsNullOnThisRank as appropriate. All MPI calls, including Rank and Size, will result in errors for null communicators. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="abb83cc66cec5af5060bb84ff9da96f76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb83cc66cec5af5060bb84ff9da96f76">&#9670;&nbsp;</a></span>CreateFromRanksAndRegister()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const DataCommunicator &amp; Kratos::DataCommunicatorFactory::CreateFromRanksAndRegister </td>
          <td>(</td>
          <td class="paramtype">const DataCommunicator &amp;&#160;</td>
          <td class="paramname"><em>rOriginalCommunicator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="../../db/d66/namespace_kratos.html#ac398e9982e45de7167981e05b7f5ff57">int</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>rRanks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>rNewCommunicatorName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new MPIDataCommunicator connecting the provided ranks. </p>
<p>This function defines and registers in ParallelEnvironment a new communicator involving the selected ranks of rOriginalCommunicator.</p>
<p>Note that this returns a wrapper for MPI_COMM_NULL in all other ranks.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rOriginalCommunicator</td><td>Reference DataCommunicator. </td></tr>
    <tr><td class="paramname">rRanks</td><td>list of ranks of rOriginalCommunicator to be used in the new communicator. </td></tr>
    <tr><td class="paramname">rNewCommunicatorName</td><td>The name to register the new DataCommunicator with. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A reference to the new DataCommunicator. </dd></dl>

</div>
</div>
<a id="a305e7138a26daa2a0c754bccd4666952"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a305e7138a26daa2a0c754bccd4666952">&#9670;&nbsp;</a></span>CreateIntersectionAndRegister()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const DataCommunicator &amp; Kratos::DataCommunicatorFactory::CreateIntersectionAndRegister </td>
          <td>(</td>
          <td class="paramtype">const DataCommunicator &amp;&#160;</td>
          <td class="paramname"><em>rFirstDataCommunicator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const DataCommunicator &amp;&#160;</td>
          <td class="paramname"><em>rSecondDataCommunicator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const DataCommunicator &amp;&#160;</td>
          <td class="paramname"><em>rParentDataCommunicator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>rNewCommunicatorName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new MPIDataCommunicator as the intersection of the given ones. </p>
<p>This function creates and registers in ParallelEnvironment a new MPIDataCommunicator involving all ranks that participate on both of the arguments. A parent DataCommunicator encompassing all ranks in either of the two arguments (and possibly more) is required. The operation is collective in all processes in rParentDataCommunicator. For processes involved in rParentDataCommunicator but not on both of the two arguments, the new communicator will be a wrapper to MPI_COMM_NULL.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rFirstDataCommunicator</td><td>first argument of the intersection. </td></tr>
    <tr><td class="paramname">rSecondDataCommunicator</td><td>second argument of the intersection. </td></tr>
    <tr><td class="paramname">rParentDataCommunicator</td><td>auxiliary DataCommunicator involving all ranks on either of the first two arguments (a wrapper to MPI_COMM_WORLD is always a valid argument here). </td></tr>
    <tr><td class="paramname">rNewCommunicatorName</td><td>The name to register the new DataCommunicator with. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A reference to the new DataCommunicator. </dd></dl>

</div>
</div>
<a id="abd9d3df59210f9ad7c95d4fe7599690d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd9d3df59210f9ad7c95d4fe7599690d">&#9670;&nbsp;</a></span>CreateUnionAndRegister()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const DataCommunicator &amp; Kratos::DataCommunicatorFactory::CreateUnionAndRegister </td>
          <td>(</td>
          <td class="paramtype">const DataCommunicator &amp;&#160;</td>
          <td class="paramname"><em>rFirstDataCommunicator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const DataCommunicator &amp;&#160;</td>
          <td class="paramname"><em>rSecondDataCommunicator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const DataCommunicator &amp;&#160;</td>
          <td class="paramname"><em>rParentDataCommunicator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>rNewCommunicatorName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new MPIDataCommunicator as the union of the given ones. </p>
<p>This function creates and registers in ParallelEnvironment a new MPIDataCommunicator involving all ranks that participate on either of the arguments. A parent DataCommunicator encompassing all ranks in either of the two arguments (and possibly more) is required. The operation is collective in all processes in rParentDataCommunicator. For processes involved in rParentDataCommunicator but not on either of the first two arguments, the new communicator will be a wrapper to MPI_COMM_NULL. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rFirstDataCommunicator</td><td>first argument of the union. </td></tr>
    <tr><td class="paramname">rSecondDataCommunicator</td><td>second argument of the union. </td></tr>
    <tr><td class="paramname">rParentDataCommunicator</td><td>auxiliary DataCommunicator involving all ranks on either of the first two arguments (a wrapper to MPI_COMM_WORLD is always a valid argument here). </td></tr>
    <tr><td class="paramname">rNewCommunicatorName</td><td>The name to register the new DataCommunicator with. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A reference to the new DataCommunicator. </dd></dl>

</div>
</div>
<a id="a143e0a0fe1cf6a99be43a32e171ba7e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a143e0a0fe1cf6a99be43a32e171ba7e7">&#9670;&nbsp;</a></span>DuplicateAndRegister()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const DataCommunicator &amp; Kratos::DataCommunicatorFactory::DuplicateAndRegister </td>
          <td>(</td>
          <td class="paramtype">const DataCommunicator &amp;&#160;</td>
          <td class="paramname"><em>rOriginalCommunicator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>rNewCommunicatorName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new MPIDataCommunicator as a duplicate of an existing one. </p>
<p>This function is a wrapper for MPI_Comm_dup. Note that, if a serial DataCommunicator is passed as an argument, the returned DataCommunicator will be a wrapper for a duplicate of MPI_COMM_SELF. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rOriginalCommunicator</td><td>The DataCommunicator to be copied. </td></tr>
    <tr><td class="paramname">rNewCommunicatorName</td><td>The name to register the new DataCommunicator with. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A reference to the duplicate DataCommunicator. </dd></dl>

</div>
</div>
<a id="a9a0ad7d3309c0aca854e1e348a915d81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a0ad7d3309c0aca854e1e348a915d81">&#9670;&nbsp;</a></span>SplitAndRegister()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const DataCommunicator &amp; Kratos::DataCommunicatorFactory::SplitAndRegister </td>
          <td>(</td>
          <td class="paramtype">const DataCommunicator &amp;&#160;</td>
          <td class="paramname"><em>rOriginalCommunicator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d66/namespace_kratos.html#ac398e9982e45de7167981e05b7f5ff57">int</a>&#160;</td>
          <td class="paramname"><em>Color</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d66/namespace_kratos.html#ac398e9982e45de7167981e05b7f5ff57">int</a>&#160;</td>
          <td class="paramname"><em>Key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>rNewCommunicatorName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new MPIDataCommunicator by splitting an existing one. </p>
<p>This function is a wrapper for MPI_Comm_split. The resulting communicator divides all processes in the original one into disjoint groups, one for each distinct value of Color.</p>
<p>A process may provide MPI_UNDEFINED as color. In this case, the returned communicator will be MPI_COMM_NULL for that process (the process will not participate in communication).</p>
<p>The Key argument is used to determine the relative ordering of processes within the same color group: ranks will be assigned in order of increasing Key. If ranks with the same Key and Color are found, they will be sorted according to increasing rank in the original communicator. In practice, assigning Key=0 to all processes will assign ranks respecting the rank ordering in the parent communicator.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rOriginalCommunicator</td><td>The DataCommunicator to be split. </td></tr>
    <tr><td class="paramname">Color</td><td>The tag identifying which group the process will belong to. </td></tr>
    <tr><td class="paramname">Key</td><td>A value indicating the relative ordering (rank) of the process within the new communicator. </td></tr>
    <tr><td class="paramname">rNewCommunicatorName</td><td>The name to register the new DataCommunicator with. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A reference to the split DataCommunicator. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Jun 10 2023 02:28:30 for KratosMultiphysics by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
