<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KratosMultiphysics: master_control.MasterControl Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../kratos_small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">KratosMultiphysics
   </div>
   <div id="projectbrief">KRATOS Multiphysics (Kratos) is a framework for building parallel, multi-disciplinary simulation software, aiming at modularity, extensibility, and high performance. Kratos is written in C++, and counts with an extensive Python interface.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../df/d6d/namespacemaster__control.html">master_control</a></li><li class="navelem"><a class="el" href="../../d4/d40/classmaster__control_1_1_master_control.html">MasterControl</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="../../de/d8b/classmaster__control_1_1_master_control-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">master_control.MasterControl Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Master control class.  
 <a href="../../d4/d40/classmaster__control_1_1_master_control.html#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for master_control.MasterControl:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d4/df4/classmaster__control_1_1_master_control__coll__graph.svg" width="227" height="206"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a64d1307d5a9119fbbadd94046c2131ed"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d40/classmaster__control_1_1_master_control.html#a64d1307d5a9119fbbadd94046c2131ed">__init__</a> (self)</td></tr>
<tr class="separator:a64d1307d5a9119fbbadd94046c2131ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c835a62aafbae0d708b72eb746f05c3"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d40/classmaster__control_1_1_master_control.html#a6c835a62aafbae0d708b72eb746f05c3">AddControl</a> (self, Control control)</td></tr>
<tr class="memdesc:a6c835a62aafbae0d708b72eb746f05c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a given control to the master control.  <a href="../../d4/d40/classmaster__control_1_1_master_control.html#a6c835a62aafbae0d708b72eb746f05c3">More...</a><br /></td></tr>
<tr class="separator:a6c835a62aafbae0d708b72eb746f05c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae16674f483c992b01272526c4d5f19e2"><td class="memItemLeft" align="right" valign="top"> 'list[Control]'&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d40/classmaster__control_1_1_master_control.html#ae16674f483c992b01272526c4d5f19e2">GetListOfControls</a> (self)</td></tr>
<tr class="memdesc:ae16674f483c992b01272526c4d5f19e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the list of controls in the master control.  <a href="../../d4/d40/classmaster__control_1_1_master_control.html#ae16674f483c992b01272526c4d5f19e2">More...</a><br /></td></tr>
<tr class="separator:ae16674f483c992b01272526c4d5f19e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71178d488bf49affd9e1f690d5f734a0"><td class="memItemLeft" align="right" valign="top"> 'dict[SupportedSensitivityFieldVariableTypes, KratosOA.ContainerExpression.CollectiveExpressions]'&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d40/classmaster__control_1_1_master_control.html#a71178d488bf49affd9e1f690d5f734a0">GetPhysicalKratosVariableCollectiveExpressionsMap</a> (self)</td></tr>
<tr class="memdesc:a71178d488bf49affd9e1f690d5f734a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns map of physical variables and collective expressions from each control.  <a href="../../d4/d40/classmaster__control_1_1_master_control.html#a71178d488bf49affd9e1f690d5f734a0">More...</a><br /></td></tr>
<tr class="separator:a71178d488bf49affd9e1f690d5f734a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1759020a39bc550f6487d07e9ff7373b"><td class="memItemLeft" align="right" valign="top">KratosOA.ContainerExpression.CollectiveExpressions&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d40/classmaster__control_1_1_master_control.html#a1759020a39bc550f6487d07e9ff7373b">GetEmptyField</a> (self)</td></tr>
<tr class="memdesc:a1759020a39bc550f6487d07e9ff7373b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns empty CollectiveExpressions containing empty ContainerExpressions for each control.  <a href="../../d4/d40/classmaster__control_1_1_master_control.html#a1759020a39bc550f6487d07e9ff7373b">More...</a><br /></td></tr>
<tr class="separator:a1759020a39bc550f6487d07e9ff7373b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7442e8d9f66e974cbcdc8f6b275bed9e"><td class="memItemLeft" align="right" valign="top">KratosOA.ContainerExpression.CollectiveExpressions&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d40/classmaster__control_1_1_master_control.html#a7442e8d9f66e974cbcdc8f6b275bed9e">GetControlField</a> (self)</td></tr>
<tr class="memdesc:a7442e8d9f66e974cbcdc8f6b275bed9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns CollectiveExpressions containing control field ContainerExpressions for each control.  <a href="../../d4/d40/classmaster__control_1_1_master_control.html#a7442e8d9f66e974cbcdc8f6b275bed9e">More...</a><br /></td></tr>
<tr class="separator:a7442e8d9f66e974cbcdc8f6b275bed9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37d74e1fdd8999d6cd3cafde2beedf0e"><td class="memItemLeft" align="right" valign="top">KratosOA.ContainerExpression.CollectiveExpressions&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d40/classmaster__control_1_1_master_control.html#a37d74e1fdd8999d6cd3cafde2beedf0e">MapGradient</a> (self, 'dict[SupportedSensitivityFieldVariableTypes, KratosOA.ContainerExpression.CollectiveExpressions]' physical_space_gradient_variable_and_collective_expressions_map)</td></tr>
<tr class="memdesc:a37d74e1fdd8999d6cd3cafde2beedf0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maps physical space gradients to a collective expression.  <a href="../../d4/d40/classmaster__control_1_1_master_control.html#a37d74e1fdd8999d6cd3cafde2beedf0e">More...</a><br /></td></tr>
<tr class="separator:a37d74e1fdd8999d6cd3cafde2beedf0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37b5870c1e0d09762b443b9b54383a96"><td class="memItemLeft" align="right" valign="top"> 'dict[Control, bool]'&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d40/classmaster__control_1_1_master_control.html#a37b5870c1e0d09762b443b9b54383a96">Update</a> (self, KratosOA.ContainerExpression.CollectiveExpressions update_collective_expressions)</td></tr>
<tr class="memdesc:a37b5870c1e0d09762b443b9b54383a96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update each control with given collective expression's respective container expression.  <a href="../../d4/d40/classmaster__control_1_1_master_control.html#a37b5870c1e0d09762b443b9b54383a96">More...</a><br /></td></tr>
<tr class="separator:a37b5870c1e0d09762b443b9b54383a96"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Master control class. </p>
<pre class="fragment">This class is used to simplify working with many controls at once. Following responsibilities are assumed:
    1. Maps physical gradients from different domains to one CollectiveExpression (using MapGradient).
    2. Updates each respective domain from updates given by one CollectiveExpression (using Update).

There should be only one master control class per optimization problem.
</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a64d1307d5a9119fbbadd94046c2131ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64d1307d5a9119fbbadd94046c2131ed">&#9670;&nbsp;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None master_control.MasterControl.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a6c835a62aafbae0d708b72eb746f05c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c835a62aafbae0d708b72eb746f05c3">&#9670;&nbsp;</a></span>AddControl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None master_control.MasterControl.AddControl </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Control&#160;</td>
          <td class="paramname"><em>control</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adds a given control to the master control. </p>
<pre class="fragment">    Args:
        control (Control): Control to be added
</pre> 
</div>
</div>
<a id="a7442e8d9f66e974cbcdc8f6b275bed9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7442e8d9f66e974cbcdc8f6b275bed9e">&#9670;&nbsp;</a></span>GetControlField()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> KratosOA.ContainerExpression.CollectiveExpressions master_control.MasterControl.GetControlField </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns CollectiveExpressions containing control field ContainerExpressions for each control. </p>
<pre class="fragment">    Returns:
        KratosOA.ContainerExpression.CollectiveExpressions: Control field CollectiveExpressions
</pre> 
</div>
</div>
<a id="a1759020a39bc550f6487d07e9ff7373b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1759020a39bc550f6487d07e9ff7373b">&#9670;&nbsp;</a></span>GetEmptyField()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> KratosOA.ContainerExpression.CollectiveExpressions master_control.MasterControl.GetEmptyField </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns empty CollectiveExpressions containing empty ContainerExpressions for each control. </p>
<pre class="fragment">    Returns:
        KratosOA.ContainerExpression.CollectiveExpressions: Empty CollectiveExpressions
</pre> 
</div>
</div>
<a id="ae16674f483c992b01272526c4d5f19e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae16674f483c992b01272526c4d5f19e2">&#9670;&nbsp;</a></span>GetListOfControls()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> 'list[Control]' master_control.MasterControl.GetListOfControls </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the list of controls in the master control. </p>
<pre class="fragment">    Returns:
        list[Control]: List of controls.
</pre> 
</div>
</div>
<a id="a71178d488bf49affd9e1f690d5f734a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71178d488bf49affd9e1f690d5f734a0">&#9670;&nbsp;</a></span>GetPhysicalKratosVariableCollectiveExpressionsMap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> 'dict[SupportedSensitivityFieldVariableTypes, KratosOA.ContainerExpression.CollectiveExpressions]' master_control.MasterControl.GetPhysicalKratosVariableCollectiveExpressionsMap </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns map of physical variables and collective expressions from each control. </p>
<pre class="fragment">    This returns a map of physical control variables and a collective expressions. The collective expressions will contain
    all the container expressions for respective control's control domains for each physical control variable. The repeated container
    expressions for the same physical control variable is omitted to avoid double calculations.

    Returns:
        dict[SupportedSensitivityFieldVariableTypes, KratosOA.ContainerExpression.CollectiveExpressions]: Physical control variable and collective expressions map.
</pre> 
</div>
</div>
<a id="a37d74e1fdd8999d6cd3cafde2beedf0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37d74e1fdd8999d6cd3cafde2beedf0e">&#9670;&nbsp;</a></span>MapGradient()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> KratosOA.ContainerExpression.CollectiveExpressions master_control.MasterControl.MapGradient </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">'dict[SupportedSensitivityFieldVariableTypes, KratosOA.ContainerExpression.CollectiveExpressions]'&#160;</td>
          <td class="paramname"><em>physical_space_gradient_variable_and_collective_expressions_map</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maps physical space gradients to a collective expression. </p>
<pre class="fragment">    This method maps sensitivities w.r.t. physical space variables to control space by using each control. It is done by converting input
    map with CollectiveExpressions to a map with ContainerExpressions. The following is a pseudo example:

    input:

    physical_space_gradient_variable_and_collective_expressions_map = {
        "YOUND_MODULUS": [ControlDomain1, ControlDomain2],
        "DENSITY"      : [ControlDomain1],
        "VISCOSITY"    : [ControlDomain2],
    }

    control info:
    control1: domain = ControlDomain1
              physical_vars = YOUND_MODULUS, DENSITY

    control2: domain = ControlDomain2
              physical_vars = VISCOSITY, DENSITY


    from above information, following two maps are created and passed to each control to obtain one ContainerExpression from each control.
    control_specific_maps:
    for control1: {YOUND_MODULUS: ControlDomain1, DENSITY: ControlDomain1}
    for control2: {VISCOSITY: ControlDomain2, DENSITY: A zero valued ControlDomain}

    then returned mapped gradients are added to one CollectiveExpression.

    In here, the missing gradients for required physical variables will be assumed to be zero.

    This converts given map of sensitivities w.r.t. different physical space variables to one sensitivities in control space and aggregated
    to one CollectiveExpression.

    Args:
        physical_space_gradient_variable_and_collective_expressions_map (dict[SupportedSensitivityFieldVariableTypes, KratosOA.ContainerExpression.CollectiveExpressions]): Map of physical space sensitivities.

    Returns:
        KratosOA.ContainerExpression.CollectiveExpressions: Control space sensitivities.
</pre> 
</div>
</div>
<a id="a37b5870c1e0d09762b443b9b54383a96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37b5870c1e0d09762b443b9b54383a96">&#9670;&nbsp;</a></span>Update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> 'dict[Control, bool]' master_control.MasterControl.Update </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">KratosOA.ContainerExpression.CollectiveExpressions&#160;</td>
          <td class="paramname"><em>update_collective_expressions</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update each control with given collective expression's respective container expression. </p>
<pre class="fragment">    Args:
        update_collective_expressions (KratosOA.ContainerExpression.CollectiveExpressions): Update

    Raises:
        RuntimeError: If number of controls and number of container expressions mismatch.

    Returns:
        dict[Control, bool]: A map with control and a boolean whether the update changed anything in that control.
</pre> 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/runner/work/Documentation/Documentation/master/applications/OptimizationApplication/python_scripts/controls/<a class="el" href="../../da/d8c/master__control_8py.html">master_control.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu May 18 2023 02:15:40 for KratosMultiphysics by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
